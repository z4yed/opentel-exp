<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head.ejs') %>
  <body class="bg-gray-100 text-gray-800 min-h-screen flex flex-col">
    <%- include('partials/navigation.ejs') %>

    <main class="flex-grow container mx-auto w-4/5 p-6">
      <section class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg">
        <h2 class="text-2xl font-bold mb-6 text-center text-blue-600">Login</h2>

        <!-- Success Message -->
        <% if (successMessage) { %>
          <div class="bg-green-100 text-green-800 p-4 rounded-lg mb-6">
            <%= successMessage %>
          </div>
        <% } %>

        <!-- Error Messages -->
        <% if (errors) { %>
          <% errors.forEach((error) => { %>
            <p class="text-red-600 text-sm mb-2"><%= error.msg %></p>
          <% }) %>
        <% } %>

        <form action="/auth/login" method="POST" class="space-y-6">

          <!-- Username -->
          <div>
            <label for="username" class="block text-sm font-medium text-gray-700">Username</label>
            <input
              type="text"
              id="username"
              name="username"
              value="<%= formData?.username || '' %>"
              class="mt-1 w-full border border-gray-300 rounded-lg px-4 py-2 shadow-sm focus:ring-blue-500 focus:border-blue-500"
              required
            />
          </div>

          <!-- Password -->
          <div>
            <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
            <input
              type="password"
              id="password"
              name="password"
              class="mt-1 w-full border border-gray-300 rounded-lg px-4 py-2 shadow-sm focus:ring-blue-500 focus:border-blue-500"
              required
            />
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="w-full bg-blue-600 text-white font-medium py-2 rounded-lg shadow-md hover:bg-blue-700 transition"
          >
            Login
          </button>
        </form>

        <p class="mt-4 text-center text-sm text-gray-600">
          Don't have an account? <a href="/auth/register" class="text-blue-600 hover:underline">Register</a>
        </p>
      </section>
    </main>

    <%- include('partials/footer.ejs') %>
  </body>
</html>
